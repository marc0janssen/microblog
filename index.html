<!DOCTYPE html>
<html>

  <head>
	<meta name="generator" content="Hugo 0.91.2" />

  <title>
      
      Marco Janssen
      
  </title>

</head>


  <body>

    

	
<div class="h-feed">

	
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/06/08/195933.html" class="u-url"><time class="dt-published" datetime="2023-06-08 19:59:33 &#43;0200">Jun 8, 2023</time></a>

		<div class="e-content">
			 <!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/05/10/has-become-an.html" class="u-url"><time class="dt-published" datetime="2023-05-10 08:27:37 &#43;0200">May 10, 2023</time></a>

		<div class="e-content">
			 <p>Has become an old lady. #Snickers üòªüòº</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/05/01/great-version-the.html" class="u-url"><time class="dt-published" datetime="2023-05-01 21:37:54 &#43;0200">May 1, 2023</time></a>

		<div class="e-content">
			 <p>Great versionüé∂</p>
<p>The Sound of Silence (Live) [feat. Myles Kennedy] <a href="https://songwhip.com/disturbed/the-sound-of-silence-live">songwhip.com/disturbed&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/29/got-my-game.html" class="u-url"><time class="dt-published" datetime="2023-04-29 10:14:45 &#43;0200">Apr 29, 2023</time></a>

		<div class="e-content">
			 <p>Got my game live in the Apple Appstore. #zanzibar üéÆ</p>
<p><a href="https://apps.apple.com/nl/app/zanzibar-dice/id6447702339">apps.apple.com/nl/app/za&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/23/beta-test-for.html" class="u-url"><time class="dt-published" datetime="2023-04-23 20:03:57 &#43;0200">Apr 23, 2023</time></a>

		<div class="e-content">
			 <p>BETA test for a dice game called Zanzibar on iOS iPhone.</p>
<p>Maybe you like to give it a spin.</p>
<p><a href="https://testflight.apple.com/join/EKMCzgjd">testflight.apple.com/join/EKMC&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/22/metric-now-or.html" class="u-url"><time class="dt-published" datetime="2023-04-22 10:41:23 &#43;0200">Apr 22, 2023</time></a>

		<div class="e-content">
			 <p>Metric üá®üá¶ üé∂</p>
<p>Now or Never Now <a href="https://songwhip.com/metric/now-or-never-now">songwhip.com/metric/no&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/15/jon-hopkins-abandon.html" class="u-url"><time class="dt-published" datetime="2023-04-15 11:53:19 &#43;0200">Apr 15, 2023</time></a>

		<div class="e-content">
			 <p>Jon Hopkins. üé∂üîÜ</p>
<p>Abandon Window</p>
<p><a href="https://songwhip.com/jon-hopkins/abandon-window">songwhip.com/jon-hopki&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/08/cant-you-hear.html" class="u-url"><time class="dt-published" datetime="2023-04-08 11:52:42 &#43;0200">Apr 8, 2023</time></a>

		<div class="e-content">
			 <p>Can&rsquo;t You Hear Me Knocking - 2009 Mix <a href="https://songwhip.com/the-rolling-stones/cant-you-hear-me-knocking">songwhip.com/the-rolli&hellip;</a> üé∂</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/02/lake-turner-httpssongwhipcomlaketurner.html" class="u-url"><time class="dt-published" datetime="2023-04-02 13:06:54 &#43;0200">Apr 2, 2023</time></a>

		<div class="e-content">
			 <p>Lake Turner. 1990 üé∂</p>
<p><a href="https://songwhip.com/lake-turner/1990">songwhip.com/lake-turn&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/04/02/the-beatlestomorrow-never.html" class="u-url"><time class="dt-published" datetime="2023-04-02 12:34:56 &#43;0200">Apr 2, 2023</time></a>

		<div class="e-content">
			 <p>The Beatles
Tomorrow Never Knows - Remastered 2009</p>
<p><a href="https://songwhip.com/the-beatles/tomorrow-never-knows">songwhip.com/the-beatl&hellip;</a></p>
<p>üé∂</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/27/wat-een-trieste.html" class="u-url"><time class="dt-published" datetime="2023-03-27 13:12:01 &#43;0200">Mar 27, 2023</time></a>

		<div class="e-content">
			 <p>Wat een trieste dag vandaag. Wim de Bie overleden.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/26/hardwire-metric-httpssongwhipcommetrichardwire.html" class="u-url"><time class="dt-published" datetime="2023-03-26 10:34:31 &#43;0200">Mar 26, 2023</time></a>

		<div class="e-content">
			 <p>Hardwire - Metric üá®üá¶ üé∂</p>
<p><a href="https://songwhip.com/metric/hardwire">songwhip.com/metric/ha&hellip;</a></p>
<p>(last one&hellip; For now)</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/26/clone-metric-httpssongwhipcommetricclone.html" class="u-url"><time class="dt-published" datetime="2023-03-26 10:25:57 &#43;0200">Mar 26, 2023</time></a>

		<div class="e-content">
			 <p>Clone - Metric üá®üá¶üé∂</p>
<p><a href="https://songwhip.com/metric/clone">songwhip.com/metric/cl&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/26/live-it-out.html" class="u-url"><time class="dt-published" datetime="2023-03-26 10:18:58 &#43;0200">Mar 26, 2023</time></a>

		<div class="e-content">
			 <p>Live It Out - Metric üá®üá¶ üé∂</p>
<p><a href="https://songwhip.com/metric/liveitout">songwhip.com/metric/li&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/22/ted-lasso-hes.html" class="u-url"><time class="dt-published" datetime="2023-03-23 00:00:53 &#43;0200">Mar 23, 2023</time></a>

		<div class="e-content">
			 <p>Ted Lassoüì∫.  üé∂He&rsquo;s here. He&rsquo;s there!! He&rsquo;s everywhere! Roy Kent, Roy Kent üé∂</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/22/after-life-so.html" class="u-url"><time class="dt-published" datetime="2023-03-22 22:16:17 &#43;0200">Mar 22, 2023</time></a>

		<div class="e-content">
			 <p>After life. üì∫ so funny and sad at the same time.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/19/ted-lasso.html" class="u-url"><time class="dt-published" datetime="2023-03-19 11:20:40 &#43;0200">Mar 19, 2023</time></a>

		<div class="e-content">
			 <p>Ted Lasso üì∫</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/03/18/stretching-my-wings.html" class="u-url"><time class="dt-published" datetime="2023-03-18 10:40:36 &#43;0200">Mar 18, 2023</time></a>

		<div class="e-content">
			 <p>Stretching my wings with swift and so development on ios.</p>
<p>I enjoy it very much. Trying to get a game alive.</p>
<p>It comes with ups and downs. But there is always a solution around the corner.</p>
<p>Checking your code and ideas in a playground, does wonders. üôåü§û</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/26/went-to-a.html" class="u-url"><time class="dt-published" datetime="2023-02-26 21:30:41 &#43;0200">Feb 26, 2023</time></a>

		<div class="e-content">
			 <p>Went to a man called Otto with Tom Hanks.</p>
<p>One question.</p>
<p>Why are movies with Tom Hanks always spot on?? üé•üé¨</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/17/listen-to-this.html" class="u-url"><time class="dt-published" datetime="2023-02-17 19:42:31 &#43;0200">Feb 17, 2023</time></a>

		<div class="e-content">
			 <p>Listen to this&hellip;. #metric @metric üé∂üëäüèª <a href="https://open.spotify.com/playlist/6KB273v1ka4kHlLJRjnP6n?si=ac3ed5b163244e27">Top songs Metric</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/17/metric-metric-live.html" class="u-url"><time class="dt-published" datetime="2023-02-17 18:39:13 &#43;0200">Feb 17, 2023</time></a>

		<div class="e-content">
			 <p>#Metric @metric üé∂‚ù§Ô∏èüôå</p>
<blockquote>
<p>Live It Out <a href="https://songwhip.com/metric/liveitout">songwhip.com/metric/li&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/16/141538.html" class="u-url"><time class="dt-published" datetime="2023-02-16 15:15:38 &#43;0200">Feb 16, 2023</time></a>

		<div class="e-content">
			 <p>üòºüê±</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/14/ios-development-boot.html" class="u-url"><time class="dt-published" datetime="2023-02-14 22:17:37 &#43;0200">Feb 14, 2023</time></a>

		<div class="e-content">
			 <p>IOS development Boot camp from The Appbrewery with Angela Yu, just a great experience so far.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/12/trying-to-pick.html" class="u-url"><time class="dt-published" datetime="2023-02-12 22:17:32 &#43;0200">Feb 12, 2023</time></a>

		<div class="e-content">
			 <p>Trying to pick up iOS development (again).
<a href="https://www.udemy.com/share/101WsW3@e7BMYClIOyEDRtdcTaSKzlAEmocQfMLon7g2IvhUwLhC6-zjBo8Z_uW847PzrFFr/">www.udemy.com/share/101&hellip;</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/12/the-starlink-test.html" class="u-url"><time class="dt-published" datetime="2023-02-12 16:30:41 &#43;0200">Feb 12, 2023</time></a>

		<div class="e-content">
			 <p>The Starlink test went well. Speeds up to 150mb/s. üì°üõ∞Ô∏è</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/12/will-be-setting.html" class="u-url"><time class="dt-published" datetime="2023-02-12 13:36:53 &#43;0200">Feb 12, 2023</time></a>

		<div class="e-content">
			 <p>Will be setting up Starlink in a minute&hellip; üì°üõ∞Ô∏è (Elon Musk is a doofus, but his companies make nice stuff)</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/12/metric-on-the.html" class="u-url"><time class="dt-published" datetime="2023-02-12 10:43:33 &#43;0200">Feb 12, 2023</time></a>

		<div class="e-content">
			 <p>Metric üé∂</p>
<blockquote>
<p>On the Sly <a href="https://songwhip.com/metric/on-the-sly">songwhip.com/metric/on&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/pretty-good-privacy.html">Pretty Good Privacy with keybase.io</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/pretty-good-privacy.html" class="u-url"><time class="dt-published" datetime="2023-02-11 18:03:56 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <blockquote>
<p>2020 : This post is obsolete since Keybase was acquired by Zoom.</p>
</blockquote>
<p>Used PGP back in the 90s just because it was possible. The internet was growing, and my friends and I liked to experiment in those days with all that we found on the internet. PGP was one of those things. We had great fun back then, but never used it again the following decades.</p>
<p>But a few days ago I saw a talk from Mike Godwin about privacy on the internet. He pointed out <a href="https://www.keybase.io/">https://www.keybase.io/</a> in his talk as a start to set up PGP and ways to communicate with him.</p>
<p>I got curious again about PGP and Keybase.io, and I had no trouble at all to quickly set up <a href="keybase.io/marc0janssen">an account</a> and a PGP key pair with these guys. They have nice low-level tooling to encrypt and decrypt messages on their website.</p>
<p>What I wanted again was a way to have my email encrypted, like I had back then in the 90s when my friends and I played around with it. I found a <a href="ssd.eff.org/en/module/how-use-pgp-mac-os-x">great tutorial</a> on the internet from the <a href="eff.org">Electronic Frontier Foundation</a> on how to het PGP setup on a MAC.</p>
<p>It is set up with Thunderbird Mail Client and within this tutorial they let you generate a PGP key pair with GnuPG. Which will do the job, but I wanted to set it up with my Keybase.io key pair. I needed to export my Keybase.io key pair to the GnuPG keychain.</p>
<p>Reading the docs at their site, I found out that I could pull my Keybase.io Key to GnuPG keychain by the following command.</p>
<pre><code>keybase pgp pull-private --all
</code></pre>
<p>But this gave me the following error</p>
<pre><code>‚ñ∂ ERROR .keys doesn't exist
</code></pre>
<p>Just following this workaround to fix it.</p>
<p>Make sure that in the linked device to your keybase.io account, the option &ldquo;Forbid account changes from the website&rdquo; is disabled in the advanced settings. By disabling this option, more possibles are enabled on the keybase.io site. One of them is to export your private key.</p>
<p>After you have disabled this option on your device, go to the website of keybase.io and visit your profile page. And find an &ldquo;edit&rdquo; link behind the signature of the public key. Select the edit link, and you get the option to export your private key.</p>
<p>Copy the key and save it to your desktop. Use the following command to import the private key to the GnuPG keychain. Where &ldquo;Private_Key.asc&rdquo; holds your private key.</p>
<pre><code>gpg2 --allow-secret-key-import --import Private_Key.asc
</code></pre>
<p>Also save your public key to your desktop. And import this one with the following command. Where &ldquo;Public_Key.asc&rdquo; holds your public key.</p>
<pre><code>gpg2 --import Public_Key.asc
</code></pre>
<p>This serie of actions will replace the generation of a PGP key pair with GnuPG and import your keybase.io key pair.</p>
<p><strong>Don&rsquo;t forget to delete your private key from your desktop.</strong></p>
<p>Make sure it&rsquo;s cleaned up!</p>
<p>Now finish the thunderbird tutorial from EFF with the keybase.io key pair. And you have a PGP mailclient setup with keybase.io. There is also a nice integration possible with the macOS MAIL.APP with <a href="https://gpgtools.org">https://gpgtools.org</a>, but this requires a paid license. Whatever suites your needs.</p>
<p>Ok, I hope this helps you.</p>
<p>Find me here on keybase.io and if you like to send me a PGP encrypted email, <a href="keybase.io/marc0janssen">here</a> is my public key. But this one can also be found on <a href="keybase.io/marc0janssen#show-public%0A%0A%0A">keybase.io</a>.</p>
<p>Oh, and don&rsquo;t forget to send me your public key or your keybase.io profile page, so I can download your public key if you shared it. If you want a message back, of course ;-).</p>
<p>Use the following command to pull in my public key in your GnuPG keychain. And a follow on keybase.io.</p>
<pre><code>curl https://keybase.io/marc0janssen/pgp_keys.asc | gpg2 --import

keybase follow marc0janssen
</code></pre>
<p>Thanks for reading!</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/starbit-commander.html">Starbit Commander</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/starbit-commander.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:48:26 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>This game is my first coding for The BBC Micro:bit. The goal is to have a nice target to practice and learn microPython on this device. But first I wanted to have a go on the makeCode editor for the Micro:bit.</p>
<p>I made this simple little game. Flying a spaceship through an astroid field. Occasionally, a blinking power-up will appear. This gives the advance to survive an astroid collision. Catching two power-ups will destroy all astroids in the field. Astroids will speed up in time, but slow down if a double power-up is acquired.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/c926601a07.png" alt=""></p>
<p>To edit this repository in MakeCode.</p>
<ul>
<li>Open¬†<a href="https://makecode.microbit.org/">https://makecode.microbit.org/</a></li>
<li>Click¬†Import¬†and select Import URL</li>
<li>Paste¬†<a href="https://github.com/marc0janssen/starbit-commander">https://github.com/marc0janssen/starbit-commander</a></li>
<li>Select import</li>
</ul>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/simple-simon-says.html">Simple Simon Says</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/simple-simon-says.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:44:10 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>The game Simon in the late 70s was maybe the first &ldquo;computer&rdquo; game I played. Well, perhaps it was a real computer. I was just a kid, but the game always stayed with me. In my mind, that is. The game was from a friend, and we played it for ages.</p>
<p>Now with the Micro:bit I wanted to revive this memory and use the Micro:bit as a vehicle to get this to life again. Below is my make code attempt. I used a Micro:bit version2 for this.</p>
<p>This Simon listens to Button A, Button B, Button C (the touch sensitive logo), Button D (= Button A+B).</p>
<p>It was fun to create and a good way to set me off with the possibilities of the Micro:bit‚Ä¶</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/f86e4655e0.png" alt=""></p>
<p>To edit this repository in MakeCode:</p>
<ul>
<li>open¬†<a href="https://makecode.microbit.org/">https://makecode.microbit.org/</a></li>
<li>Click¬†Import¬†and select¬†Import URL</li>
<li>paste¬†<a href="https://github.com/marc0janssen/simple-simon-says">https://github.com/marc0janssen/simple-simon-says</a>¬†</li>
<li>select import</li>
</ul>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/microbit-fireflies.html">Micro:bit Fireflies</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/microbit-fireflies.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:37:19 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>My first attempt to write some (micro)Python code. Fireflies. This leds simulate fireflies in the air‚Ä¶</p>
<p>By the way, I found that display.get_pixel does not return the correct value for the brightness of a LED on a micro:bit. I created this function to correct this behavior in the code (fixPixelBug).</p>
<pre><code>from microbit import *
import random

# This fucntions fixes the &quot;display.get_pixel&quot; bug.
# a full bright led does not return a &quot;9&quot; but a &quot;255&quot;.
def fixPixelBug(brightness):
    if brightness == 4:
        return 3
    elif brightness == 8:
        return 4
    elif brightness == 16:
        return 5
    elif brightness == 32:
        return 6
    elif brightness == 64:
        return 7
    elif brightness == 128:
        return 8
    elif brightness == 255:
        return 9
    else:
        return brightness


while True:
    sleep(50)

    brightness = random.randint(1, 9)
    x = random.randint(0, 4)
    y = random.randint(0, 4)
    if display.get_pixel(x, y) == 0:
        display.set_pixel(x, y, brightness)

    for fireflies in range(0, 5):
        x = random.randint(0, 4)
        y = random.randint(0, 4)

        if fixPixelBug(display.get_pixel(x, y)) &gt; 0:
            display.set_pixel(x, y, fixPixelBug(display.get_pixel(x, y)) - 1)
</code></pre>
<p><a href="https://github.com/marc0janssen/microbit-fireflies">Code here</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/starbit-commander-ii.html">Starbit Commander II</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/starbit-commander-ii.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:33:05 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Well, on my quest to learn python, I poked and peeked around at the web of inters. And came across some nice sites about the micro:bits, projects and coding.</p>
<p><a href="deejaygraham.github.io/category/microbit/">One site</a> inspired me to create a python version of Starbit Commander. This site is home to many projects of <a href="deejaygraham.github.io/about/">Derek Graham</a>. Next to Micro:bit bits, he has many other things too on his site.</p>
<p>But why remake of Starbit Commander? Derek has this pleasant example of ‚Äú<a href="deejaygraham.github.io/2016/10/28/tiny-asteroids-for-microbit/">Tiny Astroids</a>‚Äù, which resembled a lot like Starbit Commander. And he created it in Python‚Ä¶ so. Mine Starbit Commander should get a python version too‚Ä¶ In this little gem from Derek, he created a really, really pleasant piece of code that animated an explosion on this 5√ó5 LED display. I loved it. And although I wanted to create Starbit from scratch in OO, I really wanted to adopt this pleasant little tiny explosion. So, I contacted Derek via Twitter, asked if he agreed to me use his explosion-code. We had a short but very nice chat on Twitter, and he agreed for the code to be reuse in Starbit Commander. Thanks, Derek!</p>
<p>Well, I wanted to test and learn more python and also OO in python. So, I decided to try to make Starbit Commander in an OO-style. I have no experience in this, but I think (as far as I can tell) this is an OO-version of the game now. Derek mentioned on micro:bit V1&rsquo;s coding OO would let you ran into out of memory errors. I haven&rsquo;t seen them on the microbit V2 with Starbit Commander. (Now I&rsquo;m worried if I did a proper OO-coding style ;-0)</p>
<p>I differed a bit from the original Starbit code. While de MakeCode version has power-ups to collect, in this python-version I decided to skip that and make the astroid field a bit more challenging by starting slow and easy and ending fast and astroid-crowded. Giving you more and more bonus score along the way you go.</p>
<p>This code can be found <a href="github.com/marc0janssen/Starbit-Commander-II">here</a>. And watch that explosion‚Ä¶ Thanks again, Derek Graham!</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/choosing-your-python.html">Choosing your Python editing weapon</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/choosing-your-python.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:24:46 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Well a few days passed since I got a micro:bit&hellip; Started out with MakeCode to play around with it, but the goal was python. For this I switched to mu-editor at first. A great editor&hellip; I like the check en tidy function. But I missed the simulator I had in MakeCode. Of course you can (and must) run your code on the physical micro:bit but a simulator is great for testing and trying little pieces of code. But I accepted the fact that mu-editor and python coding didn&rsquo;t had a simulator.</p>
<p>Then I picked up a &ldquo;old&rdquo; tool from the shed on my Macbook, Visual Studio code. I started to use it again to edit shell scripts because brackets announced to stop service this coming summer. Why not pop in python script in there. This editor offered me to install python extensions. And I started exploring the nets of inter what was possible with VScode.</p>
<p>And I came across Device Simulator Express, an extension for VScode. Just the tool I needed to have my micro:bit simulated in VScode. Just open the extensions tab in VScode and look for &ldquo;Device Simulator Express&rdquo; and install the beast.</p>
<p>There is one pitfall in installing this extension. After installing the extension en pressing shift-command-p to open de command-pane : enter &ldquo;device simulator express : New file&rdquo;. This will install some more dependencies and you might run in the problem that you get a message &ldquo;Device Simulator Express: Install Extension Dependencies&rdquo;. Telling you the install failed.</p>
<p>When pressing shift-command-p and giving the command &ldquo;Device Simulator Express: Install Extension Dependencies&rdquo; as instructed, you will find that they will never get installed and you end up with a reoccurring error all the time. This seems to have something to do with python 3.9. You can fix this doing the following:</p>
<blockquote>
<p>On Python 3.9:</p>
<p>Edit the file &ldquo;users&lt;user&gt;.vscodeextensionsms-python.devicesimulatorexpress-2020.0.36321outrequirements.txt&rdquo; and changed the line</p>
<p>Pillow==7.0.0</p>
<p>to</p>
<p>Pillow==8.1.0</p>
</blockquote>
<p>Restart VScode and press shift-command-p and give the command &ldquo;Device Simulator Express: Install Extension Dependencies&rdquo; again. Now the dependencies get installed nicely.</p>
<p>What I extra installed was a linter. Shift-command-p : Python: Select Linter and select &ldquo;flake8&rdquo;. Sometimes you need to restart VS-code to force install-popup for flake8. Now you have error-highting in the editor as you go.</p>
<p>And what I also installed was code formatter for python. Press shift-option-f: install formatter : install autopep8. This little baby formats your code. Cut the extra white-space. Correct the indenting. All kind of stuff.</p>
<p>I stopped using Windows at home for more than 11 years and left everything from Microsoft alone, switching to Apple and got the complete fruitbasket with all it&rsquo;s products. But VScode has surprised me and it&rsquo;s gonna stay for python editing&hellip;&hellip;</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/160616.html">Getting your Emby library scanned for new content in four ways.</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/160616.html" class="u-url"><time class="dt-published" datetime="2023-02-11 17:06:16 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Running Emby en Radarr/Sonarr on different servers or in different container can be a pain in the ass to get your content scanned.</p>
<p>But it is much easier than you think if you know what‚Äôs going on inside the services. The TL;DR is <strong>keep your content path the same in EMBY and in Sonarr/Radarr</strong>. If you don‚Äôt keep them the same, you run into trouble.</p>
<p>First, I show two options when you can‚Äôt keep the paths the same (say you have a linux node running EMBY and a Windows (don‚Äôt mention it) node for Sonarr/Radarr. It‚Äôs obvious the paths will never be the same, as Linux will give you a PATH like below.</p>
<pre><code>/home/user/video/movies/Your Old Movie (1921)/Your.Old.Movie.1921.Remux-2160p.mkv
</code></pre>
<p>Where Windows (sh*t have to mention it again) will give you a path</p>
<pre><code>D:\data\video\movies\Your Old Movie (1921)\Your.Old.Movie.1921.Remux-2160p.mkv
</code></pre>
<p>The slashed only (Linux forward slash / and Windows a backslash \ ) already makes this a problem.</p>
<p>Then I will show you two options if you can the PATHs the same. This can be done when:</p>
<ol>
<li>You run all your software on one node, therefor the content PATHs in EMBY en Sonarr/Radarr will be the same (Obviously)</li>
<li>When you run multiple nodes of the SAME OS and run the services (EMBY, Sonarr, Radarr) in DOCKER, and therefore you can keep the PATHs the same inside your docker containers.</li>
<li>When you run multiple nodes of THE SAME OS (for EMBY, Sonarr and Radarr) and store the content on the same network share (a third node) via Radarr/Sonarr and EMBY will scan the content on that same third node.</li>
</ol>
<h2 id="option-1-different-paths-you-cant-keep-the-paths-the-same">Option 1 different paths (you can‚Äôt keep the paths the same)</h2>
<p>This method triggers a <strong>complete</strong> library scan. This work fine but is suboptimal. When your library is large, or you frequently trigger the library scan, it will have an impact on EMBY.</p>
<pre><code>  curl -X POST &quot;${EMBY_HOST}/Emby/Library/Refresh?api_key=${EMBY_APIKEY}&quot; --data &quot;&quot;
</code></pre>
<p>Where:</p>
<pre><code>EMBY_HOST = http:/192.168.1.1:0896 or https://www.yourdoamin.com:443

EMBY_APIKEY = XXXXXXYYYYYZZZZZZ 
</code></pre>
<h2 id="option-2-different-paths-you-cant-keep-the-paths-the-same">Option 2 different paths (you can‚Äôt keep the paths the same)</h2>
<p>This method tiggers a scan for a certain library in your collection (EMBY_PARENT_ID). The advance to the pervious option is that you only trigger one collection in the library. The downside is you have to fiddle around with the EMBY_PARENT_ID. These can be obtained from the URL when you open the collection in EMBY.</p>
<pre><code>curl -X POST &quot;${EMBY_URL}/emby/Items/${EMBY_PARENT_ID}/Refresh?Recursive=true&amp;MetadataRefreshMode=Default&amp;ImageRefreshMode=Default&amp;ReplaceAllMetadata=false&amp;ReplaceAllImages=false&amp;api_key=${EMBY_APIKEY}&quot; -H &quot;accept: */*&quot; -d ‚Äú‚Äù
</code></pre>
<p>Where:</p>
<pre><code>EMBY_HOST = http:/192.168.1.1:0896 or https://www.yourdoamin.com:443

EMBY_APIKEY = XXXXXXYYYYYZZZZZZ 

EMBY_PARENT_ID = 12
</code></pre>
<h2 id="option-3-same-paths-you-can-keep-the-path-in-arr-equal-to-the-path-in-emby">Option 3 Same paths (you can keep the path in *arr equal to the path in EMBY)</h2>
<p>This is the simplest to configure the default trigger in Sonarr/Radarr</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/f53508d5ef.png" alt=""></p>
<h2 id="option-4-same-paths-you-can-keep-the-path-in-arr-equal-to-the-path-in-emby">Option 4 Same paths (you can keep the path in *arr equal to the path in EMBY)</h2>
<p>This method tiggers a scan for a certain library in your collection. The advance to the pervious option is that you add your own logic to the scan. The other advance is that you can fill-out <strong>Path</strong> and <strong>UpdateType</strong> from the environment variables in Linux (or your container)</p>
<pre><code>  curl -X POST &quot;${EMBY_URL}/emby/Library/Media/Updated?api_key=${EMBY_APIKEY}&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: application/json&quot; -d &quot;{\&quot;Updates\&quot;:[{\&quot;Path\&quot;:\&quot;${Path}\&quot;,\&quot;UpdateType\&quot;:\&quot;${UpdateType}\&quot;}]}&quot;
</code></pre>
<p>Where:</p>
<pre><code>EMBY_HOST = http:/192.168.1.1:0896 or https://www.yourdoamin.com:443

EMBY_APIKEY = XXXXXXYYYYYZZZZZZ 

Path = /movies/Old Movie, The (1921)/The.Old.Movie.1921.Bluray-2160p.mkv

UpdateType = [ Created | Modified | Deleted ] (optional)
</code></pre>
<p>Here is an example script I use for Radarr and Sonarr. I like separate scripts for Radarr and Sonarr, but you easily merge them and create one script for both Radarr and Sonarr.</p>
<h4 id="radarr">Radarr</h4>
<pre><code>#!/bin/bash

NOW=$(date +&quot;%d-%m-%Y %H:%M&quot;)
LOG_FILE=&quot;/logging/radarr/emby_scan.txt&quot;
TMP_FILE=&quot;/tmp/tmp_emby_radarr.txt&quot;
DL_FILE=&quot;/scripts/dl_radarr.txt&quot;
DEL_FILE=&quot;/scripts/del_radarr.txt&quot;
REN_FILE=&quot;/scripts/ren_radarr.txt&quot;
EMBY_URL=&quot;https://emby.yourdomain.com&quot;
EMBY_RADARR_APIKEY=&quot;xxxyyyyyzzz&quot;

if [ &quot;${radarr_eventtype}&quot; != &quot;&quot; ]; then
  if [ &quot;${radarr_eventtype}&quot; == &quot;ApplicationUpdate&quot; ] || [ &quot;${radarr_eventtype}&quot; == &quot;MovieAdded&quot; ] || [ &quot;${radarr_eventtype}&quot; == &quot;Grab&quot; ] || [ &quot;${radarr_eventtype}&quot; == &quot;HealthIssue&quot; ] || [ &quot;${radarr_eventtype}&quot; == &quot;Test&quot; ]; then
    (echo &quot;${NOW} - [Emby Library Scan] Radarr Event Type is ${radarr_eventtype}, exiting.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}
    exit
  fi
  
  (echo &quot;${NOW} - [Emby Library Scan] Radarr Event Type is ${radarr_eventtype}, updating Emby Library for ${radarr_movie_title}.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}
  
  if [ &quot;$radarr_eventtype&quot; == &quot;Download&quot; ]; then
    echo &quot;${radarr_movie_title} (${radarr_movie_year})&quot; &gt;&gt; ${DL_FILE}
    UpdateType=&quot;Created&quot;
    Path=&quot;${radarr_movie_path}&quot;
  fi
  
  if [ &quot;${radarr_eventtype}&quot; == &quot;MovieDelete&quot; ]; then
    echo &quot;${radarr_movie_title} (${radarr_movie_year})&quot; &gt;&gt; ${DEL_FILE}
    UpdateType=&quot;Deleted&quot;
    Path=&quot;${radarr_movie_path}&quot;
  fi
  
  if [ &quot;$radarr_eventtype&quot; == &quot;Rename&quot; ]; then
    echo &quot;${radarr_movie_title} (${radarr_movie_year})&quot; &gt;&gt; ${REN_FILE}
    UpdateType=&quot;Modified&quot;
    Path=&quot;${radarr_movie_path}&quot;
  fi
 
  curl -X POST &quot;${EMBY_URL}/emby/Library/Media/Updated?api_key=${EMBY_RADARR_APIKEY}&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: application/json&quot; -d &quot;{\&quot;Updates\&quot;:[{\&quot;Path\&quot;:\&quot;${Path}\&quot;,\&quot;UpdateType\&quot;:\&quot;${UpdateType}\&quot;}]}&quot;
  
else
  (echo &quot;${NOW} - [Emby Library Scan] Radarr Event Type is empty.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}

fi

# write a status file with date of last run.  Helps troubleshoot that cron task is running.
echo &quot;$(basename $0) last run was at $(date)&quot; &gt; /logging/radarr/_$(basename $0)_lastrun.txt
</code></pre>
<h4 id="sonarr">Sonarr</h4>
<pre><code>#!/bin/bash

NOW=$(date +&quot;%d-%m-%Y %H:%M&quot;)
LOG_FILE=&quot;/logging/sonarr/emby_scan.txt&quot;
TMP_FILE=&quot;/tmp/tmp_emby_sonarr.txt&quot;
DL_FILE=&quot;/scripts/dl_sonarr.txt&quot;
DEL_FILE=&quot;/scripts/del_sonarr.txt&quot;
REN_FILE=&quot;/scripts/ren_sonarr.txt&quot;
EMBY_URL=&quot;https://emby.yourdomain.com&quot;
EMBY_SONARR_APIKEY=&quot;zzzzzyyyyyxxxxx&quot;

if [ &quot;${sonarr_eventtype}&quot; != &quot;&quot; ]; then
  if [ &quot;${sonarr_eventtype}&quot; == &quot;ApplicationUpdate&quot; ] || [ &quot;${sonarr_eventtype}&quot; == &quot;Grab&quot; ] || [ &quot;${sonarr_eventtype}&quot; == &quot;HealthIssue&quot; ] || [ &quot;${sonarr_eventtype}&quot; == &quot;Test&quot; ]; then
    (echo &quot;${NOW} - [Emby Library Scan] Sonarr Event Type is ${sonarr_eventtype}, exiting.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}
    exit
  fi
  
  (echo &quot;${NOW} - [Emby Library Scan] Sonarr Event Type is ${sonarr_eventtype}, updating Emby Library for ${sonarr_series_title} - ${sonarr_episodefile_episodetitles}.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}
  
  if [ &quot;$sonarr_eventtype&quot; == &quot;Download&quot; ];  then
    echo &quot;${sonarr_series_title} - ${sonarr_episodefile_episodetitles}&quot; &gt;&gt; ${DL_FILE}
    UpdateType=&quot;Created&quot;
    Path=&quot;${sonarr_episodefile_path}&quot;
  fi
  
  if [ &quot;$sonarr_eventtype&quot; == &quot;EpisodeFileDelete&quot; ];  then
    echo &quot;${sonarr_series_title} - ${sonarr_episodefile_episodetitles}&quot; &gt;&gt; ${DEL_FILE}
    UpdateType=&quot;Deleted&quot;
    Path=&quot;${sonarr_episodefile_path}&quot;
  fi
  
  if [ &quot;$sonarr_eventtype&quot; == &quot;SeriesDelete&quot; ];  then
    echo &quot;${sonarr_series_title}&quot; &gt;&gt; ${DEL_FILE}
    UpdateType=&quot;Deleted&quot;
    Path=&quot;${sonarr_series_path}&quot;
  fi
  
  if [ &quot;$sonarr_eventtype&quot; == &quot;Rename&quot; ]; then
    echo &quot;${sonarr_series_title}&quot; &gt;&gt; ${REN_FILE}
    UpdateType=&quot;Modified&quot;
    Path=&quot;${sonarr_series_path}&quot;
  fi
    
  curl -X POST &quot;${EMBY_URL}/emby/Library/Media/Updated?api_key=${EMBY_SONARR_APIKEY}&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: application/json&quot; -d &quot;{\&quot;Updates\&quot;:[{\&quot;Path\&quot;:\&quot;${Path}\&quot;,\&quot;UpdateType\&quot;:\&quot;${UpdateType}\&quot;}]}&quot;
  
else
  (echo &quot;${NOW} - [Emby Library Scan] Sonarr Event Type is empty.&quot;; cat ${LOG_FILE}) &gt; ${TMP_FILE}; mv ${TMP_FILE} ${LOG_FILE}
  
fi

# write a status file with date of last run.  Helps troubleshoot that cron task is running.
echo &quot;$(basename $0) last run was at $(date)&quot; &gt; /logging/sonarr/_$(basename $0)_lastrun.txt
</code></pre>
<p>These scripts also maintain lists of the content names, so they can be used in reporting or notification. You can, of course, strip these.</p>
<p>I run these scripts in the <strong>Connect</strong> section in Radarr/Sonarr.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/c688902abb.png" alt=""></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/11/metric-last-one.html" class="u-url"><time class="dt-published" datetime="2023-02-11 15:38:48 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Metric. üé∂ (last one I promise)</p>
<blockquote>
<p>Now or Never Now <a href="https://songwhip.com/metric/now-or-never-now">songwhip.com/metric/no&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/11/metric-all-comes.html" class="u-url"><time class="dt-published" datetime="2023-02-11 15:33:50 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Metric. üé∂</p>
<blockquote>
<p>All Comes Crashing <a href="https://songwhip.com/metric/all-comes-crashing">songwhip.com/metric/al&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/11/metric-help-im.html" class="u-url"><time class="dt-published" datetime="2023-02-11 15:04:21 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Metric. Help I&rsquo;m alive. üé∂</p>
<blockquote>
<p>Help I&rsquo;m Alive <a href="https://songwhip.com/metric/help-im-alive">songwhip.com/metric/he&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/kleine-baguette-met.html">Kleine baguette met gerookte kipfilet</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/kleine-baguette-met.html" class="u-url"><time class="dt-published" datetime="2023-02-11 13:27:51 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Weer op weg naar huis met de trein. En elke dag staat hij daar bij de ingang, of uitgang zoals je wilt, van het station. Dagelijks groet hij de mensen die hun trein moeten halen, in de hoop dat hij een groet terug krijgt. En natuurlijk een kleine bijdrage. Velen lopen hem voorbij en groeten niet eens.¬†</p>
<p>Ik zie hem bijna dagelijks, hij groet me dan ook bijna dagelijks. En dagelijks wordt de sociale druk voor mij groter. Hij lijkt elke dag vriendelijker te worden. Hij spreekt me altijd beleefd aan en nooit opdringerig. Hij is gewoon vriendelijk en dat is zijn sterke kant.</p>
<p>Ik heb me voorgenomen om geen geld te geven. Dat is niet helpen. Ja, van de wal in de sloot. Nu ben ik niet mijn broeders hoeder, maar ik wil ook dat hij geen rotzooi koopt. Het is natuurlijk een groot vooroordeel wat ik hiermee heb. Alsof iedere persoon die op deze manier in zijn dagelijkse onderhoud moet voorzien, rotzooi koopt van het geld dat hij ophaalt.</p>
<p>Maar ik heb toch besloten om hem in natura voor zijn vriendelijke groet te betalen. Ook vandaag groet hij me weer beleefd en ik ben ook weer vriendelijk naar hem. Maar in plaats van direct naar perron vijf te lopen, neem ik even de afslag naar de Hema op het station. Ik kijk naar alle lekkere broodjes en schat in dat deze heer vandaag wel eens zin zou kunnen hebben in een kleine baguette met gerookte kipfilet.</p>
<p>Als ik terugloop naar de ingang van het station en hem aanspreek, kijkt me hij enigszins verbaasd, maar erg dankbaar aan. Ik zeg hem dat ik hoop dat het broodje hem zal smaken en wens hem een fijne dag. Hij dankt me beleefd en allerhartelijkst. Je ziet het geluk in zijn ogen. Het geeft me een goed gevoel. Ik maak uiteindelijk nog een kort praatje met hem, maar dan wil ik toch echt mijn trein halen op perron vijf.</p>
<p>Ik heb deze man nog jaren gegroet bij het station en vaker een broodje gekocht. We zijn nu sinds corona 3 jaar verder, ik ben weinig meer op het station. Het is nu thuiswerken. Ik denk nog wel eens aan hem. En of hij nu nog steeds bij het station staat. En of hij soms nog wel eens wat te eten krijgt van iemand. Of eigenlijk hoop ik dat hij zelf dat broodje kan gaan kopen, want dat zou ik deze vriendelijke man van harte toewensen.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/een-inclusieve-kerst.html">Een inclusieve Kerst</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/een-inclusieve-kerst.html" class="u-url"><time class="dt-published" datetime="2023-02-11 13:24:42 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Nadine zat wat beteuterd aan het kerstontbijt op eerste Kerstdag. Er stond van alles op tafel. Kaiserbroodjes, een kerststol, de meest uiteenlopende vleeswaren en 1001 soorten zoetwaren.</p>
<p>Maar haar aandacht was gevestigd op de gingerbread poppen en een grote ontbijtkoek. ‚ÄúZeg mam‚Äù, zei Nadine, ‚Äúzijn we nu wel gemberneutraal voor de Kerst?‚Äù</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/keuzebegoocheling.html">Keuzebegoocheling</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/keuzebegoocheling.html" class="u-url"><time class="dt-published" datetime="2023-02-11 13:22:50 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Ze woonde al 15 jaar bij deze familie. Ze had nooit ergens anders gewoond en wilde ook nergens anders naartoe. Ze was bij hen gaan wonen direct na haar geboorte, zo‚Äôn acht weken later. Ze had vaak gehoord, ‚ÄúWe hebben haar gekozen omdat ze de enige grijze was‚Äù.</p>
<p>Maar ze wist wel beter. Een eeuwenoude onwetendheid onder de mensen, maar een goed bewaard geheim door haar soort. Iets wat van generatie op generatie wordt overgedragen. Haar soort hield de mythe voor hun eigen gewin in stand. Ze moesten boven alles niet op de tenen van hun dienaren trappen. Zeker geen slapende honden wakker maken.</p>
<p>Na 15 jaar en vele fijne momenten met catnip verder, heeft ze nooit echt spijt gehad van haar keuze. Ze bleef de indruk wekken dat haar dienaren haar gekozen hadden. Iets wat de mensen geloven, maar wat haar soort al eeuwen lang wist af te dwingen.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/explosieve-vrienden.html">Explosieve vrienden</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/explosieve-vrienden.html" class="u-url"><time class="dt-published" datetime="2023-02-11 13:22:20 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>In tegenstelling tot andere illegalen, word je in bepaalde kringen met open armen ontvangen. We zouden er samen, op die speciale avond, een knallend feest van maken. Alleen op dat ene verraderlijke moment veranderde de kameraadschap. Het kostte me mijn rechterhand. Je verdween ineens en plotsklaps, maar liet veel verdriet en spijt achter.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/vrijwillig-verplicht.html">Vrijwillig verplicht</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/vrijwillig-verplicht.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:28:19 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>De kalkoen gebraden, met eenzijdige instemming.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/groen-adoptiekind.html">Groen adoptiekind</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/groen-adoptiekind.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:28:01 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Zo‚Äôn tien jaar is hij daar opgegroeid, tussen zijn familie, zijn vrienden en soortgenoten. Maar vandaag wordt hij geadopteerd, losgemaakt van zijn roots. Op een speciale avond met hem, wil iedereen hem zien. Hij hoort er voor nu echt bij. In deze periode, een speciaal plekje in ieders hart. Voor twee weken dan.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/heeft-geluk-ook.html">Heeft geluk ook een prijs?</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/heeft-geluk-ook.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:27:36 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Gehaast verlaat ik het kantoor aan de Koningskade, ik moet de trein naar Utrecht CS halen om 20:55 vanaf Den Haag Centraal. Het is iedere keer hetzelfde liedje, ook vandaag weer. Te veel werk en te weinig uren in een dag. Fatsoenlijk een trein halen, zodat je jezelf niet een ongeluk hoeft haasten, is er niet bij. Ik doe het zelf, moet gewoon ook eerder weggaan.</p>
<p>Snel de spullen ingepakt om 20:30. De jas aantrekken doe ik in de lift, terwijl deze te langzaam naar beneden zakt. Er is tijd genoeg vanaf de 15de etage om jezelf aan te kleden. Eenmaal op straat is het donker en koud. De Koningskade is druk met auto‚Äôs die, vanaf de A12 via de Zuid-Hollandlaan, de kruising opdraaien. Ik moet lang wachten bij de verkeerslichten. Ik heb minder dan 20 minuten om de trein op spoor vijf te halen.</p>
<p>Terwijl ik wacht bij de kruising hoor ik ineens een gedempte stem. Onverstaanbaar voor mij door het voorbij razende verkeer. Ik kijk om me heen. Er staat een jonge vrouw een meter of drie bij me vandaan. Ze is, net als ik, de enige op dit tijdstip bij de oversteekplaats. Omdat ik haar wat te lang en vragend aankijk, kijkt ze ge√Ørriteerd terug. Tot de vraag, wat zegt u?, komt het niet. Ze moet het wel geweest zijn, maar wat zei ze?</p>
<p>De verkeerslichten bij de zebra springen plots op groen en in een snelle draf steek ik over naar het Malieveld. Ik loop alleen, vluchtig over het voetpad langs de bomen. Wanneer ik naar links kijk, zie ik het donkere gapende gat van het Malieveld. Plots hoor ik opnieuw de gedempte stem. Weer versta ik niet wat er gezegd wordt. Ik kijk om me heen, maar zie niemand. Althans, niemand die dichtbij genoeg is. Ik begin te twijfelen aan mezelf. Is er iets met me?</p>
<p>Ik loop verder langs het paviljoen en zo Koekamp binnen. De ganzen liggen stil in het koude donkere water. De bankjes langs het voetpad zijn leeg. Met een ferme pas loop ik door, richting het station. Als ik moet wachten bij de oversteekplaats van de Bezuidenhoutseweg hoor ik opnieuw de gedempte stem. Weer onverstaanbaar, maar ik realiseer me nu dat het onder me vandaan komt.</p>
<p>Op het moment dat ik buk om mijn nieuwsgierige oor op de tegels van het voetpad te leggen, knalt er ineens een Mercedes-SUV over de lage betonblokken. Op zijn zijkant vliegt deze over mij heen en landt op zijn dak achter me op het fietspad. Als ik verschrikt en trillend opsta, hoor ik de stem ineens weer. Dit keer heel duidelijk: ‚ÄúJe staat bij me in het krijt, gozer‚Äù. Ik kijk weer om me heen, maar de paar mensen die er zijn, rennen naar de SUV. Onwaarschijnlijk dat zij het geweest zijn.</p>
<p>De trillingen lopen me over de rug, wat is dit? Als door een naald gestoken, steek ik ineens de Bezuidenhoutseweg over en zorg ik dat ik als de wiedeweerga op dat perron terechtkom. Ik denk niet na, wil alleen maar weg, naar huis. Ik besef me nog niet helemaal wat er zojuist allemaal gebeurd is. Wanneer ik met de trein het station verlaat richting Utrecht, prent ik mezelf in dat het toeval was. Nee, het was geluk, ja dat was het. Geluk dat ik bukte, om te luisteren. Maar waar naar precies? Ik krijg het koud bij de gedachte, ben ik doelbewust geholpen? Maar door wie of wat? En erger, tegen welke prijs?</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/afrikaanse-exoten.html">Afrikaanse exoten</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/afrikaanse-exoten.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:27:06 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Met een harde klap van de dichtgeslagen massief houten voordeur sta ik binnen. Net op tijd voordat de uit de kluiten gewassen veelvraten een kans krijgen om mijn schamele onderkomen binnen te dringen. Met miljoenen trekken ze door de natuurgebieden en landerijen. Ze zijn op zoek naar voedsel. Ze willen overleven, net als ik. Net als de mensheid op dit moment.</p>
<p>Het lijkt wel of ze de groenten ruiken die ik hier in huis verbouw. Hoeveel meer mensen dit hier in de omgeving ook doen weet ik niet. Ik heb al weken geen mens meer gezien. Ik weet √ºberhaupt niet of er nog mensen in de buurt wonen. Alles is veranderd sinds die uitbraak van de gemodificeerde Afrikaanse exoten bij de staatslaboratoria. Ze zouden een nieuwe voedselbron zijn. De aarde zou niet meer te redden zijn met de megaveestapels van nu. Die exoten zouden de redding worden voor de mensheid, de aarde. Hoe heeft het zover kunnen komen?</p>
<p>De aarde lijkt langzaam te sterven. De schaarse berichtgeving die nog doorkomt op internet en in de media liegen er niet om. Grote delen van Nederland zijn kaal gevreten, mensen zijn op de vlucht. Op zoek naar eten gaan ze elke woning af. Alle landen in Europa melden zwermen van deze veelvraten. Jarenlang beleid voor het gebruik van groene gewasbeschermingsmiddelen in de landbouw vanuit Brussel heeft ervoor gezorgd dat er geen bestrijdingsmiddelen beschikbaar zijn die hier tegen opgewassen zijn. En de massa‚Äôs die nu over Europa trekken, hebben niets te duchten van eventuele natuurlijke vijanden. Die waren niet uit Afrika meegenomen met de bedoelde voedselbron.</p>
<p>Terwijl ik de zojuist bemachtigde mest en water verdeel over mijn groene goud, zwelt het geluid van de miljoenen exoten aan. Ik gluur door de kieren van de door mij dichtgetimmerde ramen. Plotseling wordt er stevig op de massief houten deur gebonkt.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/setting-up-jellyseerr.html">Setting Up Jellyseerr for Emby</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/setting-up-jellyseerr.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:24:25 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Jellyseerr is a free and open source software application for managing requests for your media library. It is a a fork of Overseerr built to bring support for Jellyfin &amp; Emby media servers! Follow <a href="https://github.com/Fallenbagel/jellyseerr">this link</a> for more info.</p>
<h2 id="docker">Docker</h2>
<h3 id="docker-composeyml">Docker-compose.yml</h3>
<pre><code>version: '3'
services:
    jellyseerr:
       image: fallenbagel/jellyseerr:latest
       container_name: jellyseerr
       environment:
            - TZ=Europe/Amsterdam
            - JELLYFIN_TYPE=emby
       ports:
            - 5055:5055
       volumes:
            - /path/to/dir/config:/app/config
       restart: unless-stopped

docker-compose -p &quot;jellyseerr&quot; -f /path/to/file/docker-compose.yml up -d --remove-orphans
</code></pre>
<h2 id="swag">Swag</h2>
<h3 id="nginx---jellyseerrsubdomainconf">NGINX - jellyseerr.subdomain.conf</h3>
<p>The following code should be included in file at the following location: /path/to/dir/swag/config/nginx/proxy-confs/jellyseerr.subdomain.conf</p>
<p>The trick is to copy the jellyseerr.subdomain.conf.sample file to jellyseerr.subdomain.conf. You can create a new file from scratch, but the Swag startup could complain the file does not have to correct timestamp. This is a warning not a ‚Äúshowstopper‚Äù.</p>
<pre><code>## Version 2022/09/08
# make sure that your dns has a cname set for jellyseerr and that your jellyseerr container is named jellyseerr

server {
    listen 80;
    server_name jellyseerr.*;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name jellyseerr.*;
        server_name jellyseerr.yourdomain.com;
        resolver 1.1.1.1 1.0.0.1 valid=300s;
        resolver_timeout 10s;
        gzip on;
        gzip_vary on;
        gzip_min_length 1000;
        gzip_proxied any;
        gzip_types text/plain text/css text/xml application/xml text/javascript application/x-javascript image/svg+xml;
        gzip_disable &quot;MSIE [1-6]\.&quot;;
        
    location / {
            proxy_pass http://192.168.1.1:5055;
            proxy_read_timeout    90;
            proxy_connect_timeout 90;
            proxy_redirect        off;
            proxy_set_header      Host $host;
            proxy_set_header      X-Real-IP $remote_addr;
            proxy_set_header      X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header      Proxy &quot;&quot;;
        }
        
        proxy_set_header Host $http_host;
        proxy_set_header X-Forwarded-For $remote_addr;
        proxy_set_header X-Forwarded-Proto $scheme; 
}
</code></pre>
<h3 id="fail2ban---jaillocal">fail2ban - jail.local</h3>
<p>Add the configuration below to the file: /path/to/dir/swag/config/fail2ban/jail.local</p>
<p>The path /jellyseerr_log/ should be added to your docker-compose.yml of <strong>SWAG</strong>.</p>
<p>This config let the intruder try 3 times, if failed within 10 minutes they‚Äôre blocked for 1 hour. IP‚Äôs from 192.168.1.0/24 are ignored.</p>
<pre><code>[jellyseerr]

enabled		= true
filter		= jellyseerr
port		= http,https
logpath		= /jellyseerr_log/overseerr-*.log
maxretry	= 3
findtime	= 10m
bantime		= 1h
ignoreip	= 192.168.1.0/24
</code></pre>
<h3 id="fail2ban---jellyseerrconf">fail2ban - jellyseerr.conf</h3>
<p>Add the following config to /path/to/dir/swag/config/fail2ban/filter.d/jellyseerr.conf</p>
<pre><code># Fail2Ban for jellyseerr
#
#


[Definition]

failregex = \[info\]\[Auth\]: Failed login attempt from user with incorrect Jellyfin credentials \{&quot;account&quot;:\{&quot;ip&quot;:&quot;&lt;HOST&gt;&quot;,&quot;email&quot;:&quot;.*&quot;,&quot;password&quot;:&quot;__REDACTED__&quot;\}\}
ignoreregex =
</code></pre>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-common.html">OpenWRT and Common Internet File System (CIFS)</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-common.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:24:02 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>This protocol is based on the widely used samba protocol. CIFS is a network protocol for sharing files, printers, serial ports, and other communications between computers. I gonna use this protocol to connect my NAS device to my OpenWrt-powered box.</p>
<h3 id="installing-the-packages">Installing the packages</h3>
<p>To get everything up and running, we need to install the following package on the linksys device, kmod-cifs_2.4.30-brcm-5_mipsel.ipk. If you wish, you can also install the mount helper package, cifsmount_1.5-2_mipsel.ipk. I decided not to do so.</p>
<p>A quick check</p>
<p>If we want to do a quick check if all is working, follow the following procedure.</p>
<pre><code>root@Hellhound:~# insmod cifs
Using /lib/modules/2.4.30/cifs.o
</code></pre>
<p>Make a directory to mount the share on the remote machine.</p>
<pre><code>root@Hellhound:~# mkdir /tmp/mnt
</code></pre>
<p>Now we can try to mount the share.</p>
<pre><code>root@Hellhound:~# mount -t cifs //192.168.1.2/share /tmp/mnt -o unc=\\\\192.168.1.2\\share,ip=192.168.1.2,user=admin,pass=geheim ,dom=workgroup
</code></pre>
<p>Just double check it is mounted.</p>
<pre><code>root@Hellhound:~# df
//192.168.1.2/share243748864 46485504 197263360 19% /tmp/mnt
</code></pre>
<h3 id="setting-up-the-system">Setting up the system</h3>
<p>The above mount command is a hell of a command to execute every time you need your NAS device to be connected to your OpenWrt box. So, we are going to make life a little easier for yourself. We will edit the /etc/fstab. If you don&rsquo;t have a fstab file, make one now. To the fstab file, we add the following line.</p>
<pre><code>//192.168.1.2/share   /mnt/bulky   cifs  unc=\\192.168.1.2\share, ip=192.168.1.2,user=admin,password=geheim,dom=workgroup,rw 0 0
</code></pre>
<p>The cifs kernel module does not need to loaded separately. The package also installs the file /etc/modules.d/30-cifs. This will load the module at boot-time. Now we can mount the share with the following command.</p>
<pre><code>root@Hellhound:~# mount /mnt/bulky
</code></pre>
<p>Since OpenWrt does not execute the command</p>
<pre><code>mount -a
</code></pre>
<p>at boot-time, the configured mount points in fstab are not automagicly mounted at boot-time. To solve this, I added the mount command.</p>
<pre><code>mount /mnt/bulky
</code></pre>
<p>to the file /etc/init.d/S95custom-user-startup.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-snmp.html">OpenWRT and SNMP bandwidth monitor</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-snmp.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:23:47 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>I would appreciate it if we could monitor the bandwidth of the network devices in our wrt54gs. To do so, we need SNMP enabled on our device and some kind of application to monitor the snmp messages. I choose PRTG to monitor the SNMP messages sent.</p>
<h3 id="installing-the-package">Installing the package</h3>
<p>We need to install the snmp daemon on OpenWrt. So, we require the following package, snmpd_5.1.2-2_mipsel.ipk. Optionally, you van install the package snmp-utils_5.1.2-2_mipsel.ipk. Since I have my router modded with the MMC/SD card mod, I am going to install the package on this card with the following command.</p>
<pre><code>root@Hellhound:~# ipkg -d opt install snmpd_5.1.2-2_mipsel.ipk
</code></pre>
<p>In my case, this will install the package on the mount point /opt. I will refer to this in the paper. Change it to your setup accordingly.</p>
<h3 id="set-up-the-package">Set up the package</h3>
<p>Now we need to set up the snmp package. If you install it in the root of linux, there is no problem. But if you installed op your MMC/SD card you need to take some extra steps. First we have to copy the /opt/etc/default, /opt/etc/init.d and /opt/etc/snmp to the /etc directory. Now we have to copy the file /etc/init.d/snmpd to the file /etc/init.d/S60snmpd. After copying this file, we have to add 2 lines to the script. This is only needed for the ones who have installed the package on the MMC/SD-card. The new file will look like this.</p>
<pre><code>#!/bin/sh

export PATH=/bin:/sbin:/usr/bin:/usr/sbin:/opt/bin:/opt/sbin:
/opt/usr/bin:/opt/usr/sbin
export LD_LIBRARY_PATH=/lib:/usr/lib:/opt/lib:/opt/usr/lib

DEFAULT=/etc/default/snmpd
LIB_D=/var/lib/snmp
LOG_D=/var/log
RUN_D=/var/run
PID_F=$RUN_D/snmpd.pid

[ -f $DEFAULT ] &amp;&amp; . $DEFAULT

case $1 in
start)
[ -d $LIB_D ] || mkdir -p $LIB_D
[ -d $LOG_D ] || mkdir -p $LOG_D
[ -d $RUN_D ] || mkdir -p $RUN_D
snmpd $OPTIONS
;;
stop)
[ -f $PID_F ] &amp;&amp; kill $(cat $PID_F)
;;
*)
echo &quot;usage: $0 (start|stop)&quot;
exit 1
esac
exit $?
</code></pre>
<p>You can also follow the instructions on this page. You will need the script in paragraph 4.3. So, you don&rsquo;t have to follow the instructions pointed out above here. Just follow the instructions on that page in paragraph 4.3.</p>
<h3 id="whats-next">What&rsquo;s next?</h3>
<p>You can now reboot your router and the snmpd daemon will start automatically. Now it is time to set up a monitoring tool. I used PRTG, but there are others around. It is out of the scope of this paper to describe the use of PRTG. There is enough material around to help you on that one.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-snort.html">OpenWRT and Snort</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-snort.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:23:30 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <h3 id="set-up-snort-on-openwrt">Set up snort on OpenWrt</h3>
<p>After installing the MMC/SD card mod, I have enough room to install snort on my wrt54gs. So, this paper will assume that the package will be set up on the MMC/SD card. Which is mounted on /opt. You can read about setting up the MMC/SD card on this page.</p>
<h3 id="installing-the-package">Installing the package</h3>
<p>To install snort on your wrt54gs install the following package</p>
<pre><code>root@Hellhound:~# ipkg -d opt install snort_2.4.4-1_mipsel.ipk
</code></pre>
<p>This will install snort in the directory /opt.</p>
<h3 id="remote-syslog">Remote syslog</h3>
<p>I want snort to log all its messages to a remote syslog server. I already discussed this on the page which discussed using fwbuilder with OpenWrt. Look on this page to set up wallwatcher.</p>
<h3 id="downloading-rules-files">Downloading rules files</h3>
<p>We need to get some rule files. These rule files can be downloaded from the snort website. Download the snort 2.4 rule files from this website. These rule files need to be unpacked in the directory /opt/etc/snort/rules/</p>
<pre><code>root@Hellhound:~# tar zxf snortrules-pr-2.4.tar.gz
</code></pre>
<h3 id="setting-up-snort">Setting up snort</h3>
<p>Now we have to set up the snort.conf file. In this file, many snort settings are configured. We want to set up snort in a way it will log all messages to our remote syslog, it this case wallwatcher. The first thing we have to do is to set the option HOME_NET</p>
<pre><code>var HOME_NET 192.168.1.0/24
</code></pre>
<p>Next, we have to uncomment a line in the snort.conf file.</p>
<pre><code>output alert_syslog: LOG_AUTH LOG_ALERT
</code></pre>
<p>We need to change the rules path</p>
<pre><code>var RULE_PATH /opt/etc/snort/rules
</code></pre>
<p>At the bottom of the snort.conf there are a lot of rule files included. Make sure you comment all the rule files at first. Just to make sure that we do not flood the memory of the wrt54gs and hang the device when we start snort.</p>
<p>Make the directory snort in the directory /var/log</p>
<pre><code>root@Hellhound:~# mkdir /var/log/snort
</code></pre>
<h3 id="giving-snort-a-test-run">Giving snort a test run</h3>
<p>To check if snort is running correctly on your device, give the following command on the prompt and open a website in your favorite browser.</p>
<pre><code>root@Hellhound:~# snort -v -i vlan1
</code></pre>
<p>This will give you the following output</p>
<pre><code>01/25-22:02:12.344117 195.37.77.141:80 -&gt; 10.0.0.100:2053
TC`1 P TTL:46 TOS:0x0 ID:55048 IpLen:20 DgmLen:40 DF
***A**** Seq: 0xC5D2F3DE Ack: 0xBD63343B Win: 0x5B4 TcpLen: 20
=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
</code></pre>
<p>End the test run by pressing crtl-C.</p>
<h3 id="running-snort">Running Snort</h3>
<p>Now we know snort runs okay, we set up the rule files. These can be uncommented at the bottom of the /opt/etc/snort/snort.conf file. I would advise you to enable the rule files one by one and keep an eye on your memory usage. After each run of snort check your memory and determine if you can enable another rule. Run snort with the following command.</p>
<pre><code>root@Hellhound:~# snort -c /opt/etc/snort/snort.conf -i vlan1&amp;
</code></pre>
<p>Check your memory usage by the following command</p>
<pre><code>root@Hellhound:~# top
</code></pre>
<p>If snort is detecting any &ldquo;bad&rdquo; traffic, it will be logged to your remote syslog server.</p>
<h3 id="checking-your-setup">Checking your setup</h3>
<p>Snort can be quiet sometimes, how do we check if snort is doing its job?? To check your setup, kill the snort proces that is running at the moment. Make sure you have the LOCAL.RULES enabled in the snort.conf file. Then edit local.rules and add the following line of code.</p>
<pre><code>alert ip any any -&gt; any any (msg:&quot;Got an IP Packet&quot;; classtype:not-suspicious; sid:2000000; rev:1;)
</code></pre>
<p>Now start snort with the following command</p>
<pre><code>root@Hellhound:~# snort -c /opt/etc/snort/snort.conf -i vlan1&amp;
</code></pre>
<p>And keep a good eye on your remote syslog server‚Ä¶. I will start logging network traffic.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-traffic.html">OpenWRT and Traffic Monitor</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-traffic.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:23:14 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>A nice way of keeping track of your traffic is vnstat. This beauty is found in the repository of white russian. On the website of the author of vnstat you can find a complete reference of the possibilities of vnstat.</p>
<h3 id="installing-the-package">Installing the package</h3>
<p>You can get this fine piece of software on your router by installing the following package provided by OpenWrt, vnstat_1.4-1_mipsel.ipk. On the OpenWrt forum a guy called arteqw made a impressive setup to be used with the x-wrt webif^2. I will add his setup in the next paragraphs.</p>
<h3 id="prepare-openwrt">Prepare OpenWrt</h3>
<p>After installing the package, we need to create the &ldquo;database&rdquo; to collect our data. First, we need to create a directory to hold the database.</p>
<pre><code>mkdir /var/lib/vnstat
</code></pre>
<p>Now we create the database in this directory. So first change to this directory before executing the command. We will be creating a database on the WAN device of the router.</p>
<pre><code>vnstat -u -i vlan1
</code></pre>
<p>We also want this setup to survive a reboot, so in the /etc/init.d directory we edit the file S95custom-user-startup.</p>
<pre><code>mkdir -p /var/lib/vnstat
vnstat -u -i vlan1
gettraffic.sh
</code></pre>
<p>Note: The script gettraffic.sh will be discussed later, for now, we just add this command.</p>
<p>Now we need to get this database to be updated on a regular interval, here cron is helpful. The crontab can be edited by the command crontab -e. In the example below, we update the database every 5 minutes.</p>
<pre><code>*/5 **** vnstat -u -i vlan1
</code></pre>
<h3 id="script-gettrafficsh">Script gettraffic.sh</h3>
<p>The following script must be placed in the directory /usr/sbin and will write the status of the data in the database to a file in the /tmp directory called traffic_stats.inc. This file will be picked up by the web-interface to display the values within the webif^2 interface of OpenWrt.</p>
<pre><code>#!/bin/sh
IFACE_WAN=$(nvram get wan_ifname)
IFACE_LAN=$(nvram get lan_ifname)
IFACE_WLAN=$(nvram get wl0_ifname)

rm /tmp/traffic_stats.inc

echo &quot;&lt;br &gt;&lt;center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc
vnstat -tr -i $IFACE_WAN | grep -v seconds &gt;&gt; /tmp/traffic_stats.inc
echo &quot;&lt;/center&gt;&lt;br &gt;&lt;b &gt;&lt;th&gt;Hourly at $IFACE_WAN[WAN]&lt;/th&gt;&lt;/b &gt;&lt;br &gt;&lt;center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc

vnstat -h -i $IFACE_WAN | grep -v $IFACE_WAN &gt;&gt; /tmp/traffic_stats.inc
echo &quot;&lt;/center&gt;&lt;br &gt;&lt;b &gt;&lt;th&gt;Daily at $IFACE_WAN[WAN]&lt;/th&gt;&lt;/b &gt;&lt;br &gt;&lt;center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc

vnstat -d -i $IFACE_WAN | grep -v $IFACE_WAN &gt;&gt; /tmp/traffic_stats.inc
echo &quot;&lt;/center&gt;&lt;br &gt;&lt;b &gt;&lt;th&gt;Weekly at $IFACE_WAN[WAN]&lt;/th&gt;&lt;/b &gt;&lt;br &gt;&lt;center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc

vnstat -w -i $IFACE_WAN | grep -v $IFACE_WAN &gt;&gt; /tmp/traffic_stats.inc
echo &quot;&lt;/center&gt;&lt;br &gt;&lt;b &gt;&lt;th&gt;Monthly at $IFACE_WAN[WAN]&lt;/th&gt;&lt;/b &gt;&lt;br &gt;&lt;center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc

vnstat -m -i $IFACE_WAN | grep -v $IFACE_WAN &gt;&gt; /tmp/traffic_stats.inc
echo &quot;&lt;/center&gt;&quot; &gt;&gt; /tmp/traffic_stats.inc
</code></pre>
<p>Last thing we need to do is to add an entry in the crontab (crontab -e). This entry will run the gettraffic.sh every 5 minutes, so that the file /tmp/traffic_stats.inc will be updated.</p>
<pre><code>*/5 * * * * gettraffic.sh
</code></pre>
<h3 id="web-interface-add-on">Web interface add-on</h3>
<p>Finally, we need to extend the web interface, so we can see the traffic stats in our browser. To do so, we need to place the file traffic.sh in the directory /www/cgi-bin/webif. This file will pick up the file /tmp/traffic_stats.inc.</p>
<pre><code>#!/usr/bin/webif-page
&lt;?
. /usr/lib/webif/webif.sh
header &quot;Status&quot; &quot;Traffic Statistic&quot; &quot;@TR&lt;&lt;Traffic Statistic&gt;&gt;&quot;
?&gt;
&lt;pre&gt;&lt;? cat /tmp/traffic_stats.inc ?&gt;&lt;/pre&gt;
&lt;? footer ?&gt;
&lt;!--
##WEBIF:name:Status:5:Traffic Statistic
--&gt;
</code></pre>
<h3 id="email-stats">Email stats</h3>
<p>I wanted to receive the stats of my router hourly by email. So, I looked at a package called mini-sendmail_1.3.5-1_mipsel.ipk which gives the ability to send emails. In the link section at the top I included the manpage for mini-sendmail. So to get the stats by email, I added the following line to the crontab.</p>
<pre><code>0 9-16 * * 1-5 cat /tmp/traffic\_stats.inc | mini\_sendmail -fsend@domain.org -ssmtp.server.org receive@domain.org
</code></pre>
<p>This crontab entry will email the contents of /tmp/traffic_stats.inc to the address <a href="mailto:receive@domain.org">receive@domain.org</a>. It will be emailed every full hour between 09:00 and 16:00 from Monday to Friday.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-dynamic.html">OpenWRT and Dynamic DNS</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-dynamic.html" class="u-url"><time class="dt-published" datetime="2023-02-11 12:22:34 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Having the major dynamic DNS services provide me with a domain name for my internet connection, I configured updatedd on my OpenWrt box. I stopped using ez-ipupdate because this application did not seem to pick up the WAN address of my ADSL router, but picked up the address of my wrt54gs and set that address to be my external address. Which gave problems, of course. Therefore I started to use updatedd which also supports all major dynamic DNS service providers.</p>
<h3 id="installing-the-packages">Installing the packages</h3>
<p>To get updatedd up and running, you need to install the package updatedd_2.5-1_ mipsel.ipk. Since I like to use the provider dyndns.org en no-ip.org I also installed the following packages updatedd-mod-noip_2.5-1_mipsel.ipk and updatedd-mod-dyndns_2.5-1_mipsel.ipk.</p>
<h3 id="update-your-ip">Update your IP</h3>
<p>Now all the needed packages are installed. Now it&rsquo;s time to update your IP with the chosen providers, for me, this is no-ip.org and dyndns.org.</p>
<p>updatedd noip username:password nodename.bounceme.net</p>
<p>updatedd dyndns username:password nodename.homeftp.org</p>
<h3 id="update-your-ip-regularly">Update your IP regularly</h3>
<p>Now we want this action to be updated regularly. This means cron will be helpful. To edit cron you can use the command crontab -e. Which uses the VI commands to edit the content. I set up cron in the following way.</p>
<pre><code>0 0 * * * updatedd noip username:password nodename.bounceme.net
0 0 * * * updatedd dyndns username:password nodename.homeftp.org
</code></pre>
<p>This will update my dynamic DNS accounts every day at midnight.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/de-barbaarse-oude.html">De barbaarse oude man</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/de-barbaarse-oude.html" class="u-url"><time class="dt-published" datetime="2023-02-11 11:59:14 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>De teleurstelling had niet groter kunnen zijn voor Davide toen hij op Sinterklaasochtend zijn schoen wilde uithalen. Hij had super zijn best gedaan en voor alles gezorgd om de Sint en zijn schimmel vrolijk te stemmen.</p>
<p>Hij had een van zijn mooiste schoenen gezet, die moeder pas bij de kringloopwinkel had gekocht voor hem. Hij had de mooiste wortel en aardappel gekozen uit de box van de voedselbank. Hij had suikerklontjes bij zijn schoen gelegd. Hij had van vader strikte instructies gekregen om deze niet te ontdoen van de papieren bescherming. Raar want hij wilde Ozosnel niet ziek laten worden. Hij had de hele avond gezongen bij de schoen en was vroeg naar bed gegaan. Ook al omdat het in de avond altijd koud werd in huis.</p>
<p>Op de ochtend dat de goedheiligman was geweest, was Davide naar beneden gesneld. In de hoop mooie cadeaus te vinden bij zijn schoen. Tot zijn ontsteltenis lag er zout op, bij en in zijn schoen. De kleine Davide was ontroostbaar en moeder hoopte dan ook dat de andere kindertjes snel het geheim van Sinterklaas zouden vertellen op school. Ze kon het niet meer aanzien wat een barbaarse man die goedheiligman in dit huis was.</p>
<p>Gelukkig waren er wel gekookte wortelen en aardappelen voor het eten deze avond en had vader zijn gebruikelijke kopje oploskoffie waar hij een ontveld suikerklontje in deed. Deze avond ging Davide ook weer vroeg naar bed, maar nu met zijn hoop op de Kerstman gevestigd.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-fwbuilder-and.html">OpenWRT, fwbuilder and wallwatcher</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-fwbuilder-and.html" class="u-url"><time class="dt-published" datetime="2023-02-11 11:29:43 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <h3 id="installing-the-right-packages">Installing the right packages</h3>
<p>To get the fwbuilder generated scripts up and running on a OpenWrt powered device, you need to install a few packages. Those packages are found in de standard repository of white russian. The packages you need to install from that repository are ip_2.6.11-050330-1_mipsel.ipk, iptables-mod-extra_1.3.3-2_mipsel.ipk and iptables-utils_1.3.3-2_mipsel.ipk</p>
<h3 id="editing-etcfirewalluser">Editing /etc/firewall.user</h3>
<p>I am using a SquashFS version of OpenWrt. This means that the real filesystem is readonly and that all files are available with symbolic links on a writeable JFFS filesystem. What we now need to do is to delete the symbolic link and copy the real file in place of the symbolic link in the /etc directory.</p>
<p>Now we need to add the following code to the firewall.user file.</p>
<pre><code>insmod ipt_LOG
insmod ipt_limit

if [not -f /usr/sbin/firewallscript.fw ] ; then
{orginal script}
else /usr/sbin/firewallscript.fw
fi
</code></pre>
<p>Now you have to place your firewall script in the /usr/sbin directory (or place it at a location of your choice, but you will have to edit the code above to match your location).</p>
<p>Instead of adding the two insmod lines in the firewall.user file, you can also edit the file /etc/modules. You can just edit the file like the example below.</p>
<pre><code>ipt_LOG
ipt_limit
</code></pre>
<h3 id="remote-syslog-with-wallwatcher">Remote syslog with wallwatcher</h3>
<p>Now we have to set up remote syslog, so we can log the output of your firewall script with wallwatcher. Remember to put some rules in fwbuilder on logging, otherwise we will never log a thing. You need to set up OpenWrt to use a remote syslog server. You need to replace the xxx.xxx.xxx.xxx with the ip-address of the system that will be running wallwatcher.</p>
<pre><code>nvram set log_ipaddr=xxx.xxx.xxx.xxx
nvram commit
</code></pre>
<p>The only thing you have to do next is to set up wallwatcher router tab</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/aaa84bfceb.jpg" alt=""></p>
<h3 id="change-startup-order">Change Startup order</h3>
<p>With the RC5 release of OpenWrt all was working just fine, but when I started to use the RC6 version of OpenWrt I discovered that the firewall script was not executed after a reboot of the router. The problem seemed to be that the /etc/init.d/S35Firewall is executed before /etc/init.d/S40Network. So, When I renamed /etc/init.d/S35Firewall in /etc/init.d/S45Firewall and rebooted the router, the firewall script was executed and all worked just fine.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/zeevisser.html">Zeevisser</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/zeevisser.html" class="u-url"><time class="dt-published" datetime="2023-02-11 09:34:22 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>Met de zilte zeewind door onze haren staken we de zeedijk bij Borssele over. Lopend uiteraard want tante had de auto geparkeerd onderaan de dijk. De zon was zo fel en zo heet dat het asfalt gesmolten was en de zolen van onze schoenen bleven plakken aan de zwarte ondergrond. We gingen het strand op, daar wilde je zijn als kind. Rennen op het strand en het liefst ook beestjes vangen. Want als kleine jongen uit de Betuwe hadden we die mooie kwalletjes en krabbetjes niet in de boomgaarden.</p>
<p>Het strand van Borssele voorzag in een voor ons grote en handige attractie in dat opzicht. Een soort wildwaterbaan over het strand waar je alleen maar je schepnetje in hoefde te houden om de mooiste creaties uit de zee te vangen. Dat ze wat suf waren door de klappen van de koelwaterpompen van de kerncentrale dat deerde niet als jonge zeevisser. We stonden tussen de grote zeemeeuwen aan de rand van de stroom die ook hun slag sloegen. Best indrukwekkend wanneer die zeemeeuwen duidelijk maakten dat ze ook een plaats hadden langs deze fastfood van zeedelicatessen.</p>
<p>‚Äôs Avonds zaten de gevangen krabbetjes allemaal in miniatuur zeeaquaria op het balkon van het appartement van mijn tante. Ieder in zijn eigen Tupperwarebakje, want daar grossierde mijn tante dan weer in. Velen van hen, als niet allemaal, hebben hun laatste rustplaats in de tuin van het appartementencomplex gevonden.</p>
<p>Jaren later vertelde mijn tante dat je het strand niet meer zou herkennen. De kerncentrale stond er uiteraard nog maar het strand zou opgeslokt zijn. Niet door de zee, maar door de groter wordende energievraag. Ik weet het niet, ik ben er nooit meer wezen kijken. Zou ook niet meer weten waar we parkeerden. Dat zie je natuurlijk ook niet zo goed vanaf de achterbank tussen de schepnetten en de plastic bakjes.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-mmcsd.html">OpenWRT and MMC/SD card mod Linksys WRT54GSv4</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/openwrt-and-mmcsd.html" class="u-url"><time class="dt-published" datetime="2023-02-11 09:25:28 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <h3 id="modifying-the-casing-of-the-router">Modifying the casing of the router</h3>
<p>wrt54gs I used the MMC/SD mini board from <a href="https://www.futurlec.com/Mini_SC.shtml" title="MMC/SD miniboard Futurelec">Futurlec</a>. I added a picture of the modded case. As you can see in the picture, I used the screw holes to mount the miniboard. I decided to make the card being inserted at the side of the case.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/e993315805.jpg" alt=""></p>
<h3 id="soldering-the-miniboard-to-the-wrt54gs-pcb">Soldering the miniboard to the wrt54gs pcb</h3>
<p>I have a wrt54gs version 4, so I made use of the GPIO-pins 2,3,4 and 7. The table below shows the pin-layout of the SD card and the soldering point on the pcb of the wrt54gsV4.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/41b06f7adc.png" alt=""></p>
<p>Below, I placed the pictures I took during soldering the MMC/SD-card mod into the wrt54gs. The first two points are the easy ones. These are GPIO4 and GPIO7 located at the bottom-side of the PCB. They are straightforward to solder. So, no sweat here.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/2065c6458f.jpg" alt=""></p>
<p>These two suckers are the hard ones to solder, but it is do-able. A steady hand and a good soldering-iron will do it!</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/8db88c2a34.jpg" alt=""></p>
<p><strong>I am NOT sure on this one</strong>, but you can also use the following soldering points for GPIO2 and GPIO3. Use this at your own risk, I have not tried it, just tested it out with a multimeter.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/4b24ba4258.jpg" alt=""></p>
<p>These are the easiest soldering points of them all. The 3.3v and the two ground pins.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/026f9cf529.jpg" alt=""></p>
<p>Here you have a picture of the complete setup with the miniboard of futurlec. Put the jumpers on the miniboard to disable. I also tried the jumpers on enable and they also work, no problem. But the jumpers pull the data-lines in a high state. I don&rsquo;t know what kind of effect that will have on the chipset of the router.</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/4d6e1db40b.jpg" alt=""></p>
<h3 id="testing-your-modification">Testing your modification</h3>
<p>After you soldered the MMC/SD mod into the router, you are ready to turn on the router and copy the driver to the correct place. I use the following version of the driver, <a href="/files/mmc.o" title="Driver MMC SD Card">you can download it here</a>. This driver needs to be placed in the directory.</p>
<pre><code>/lib/modules/2.4.30
</code></pre>
<p>Now we need to install the kernel modules for vfat filesystem support, so we can mount the MMC/SD card. To do this you need the following package kmod-vfat 2.4.30-brcm-5</p>
<p>Now all the needed software is installed on the router. We can start testing the mod. You have to execute the following command to add vfat support to the kernel</p>
<pre><code>root@Hellhound:~# insmod fat
using /lib/modules/2.4.30/fat.o

root@Hellhound:~# insmod vfat
using /lib/modules/2.4.30/vfat.o
</code></pre>
<p>Now we are ready to test the soldering, make sure you have an SD card installed in your socket. Remember that theoretically the driver supports 2GB cards, but what I have found on the web and personally experienced is that a 2GB will not work. The largest card support is 1GB. Now execute the following command on the prompt.</p>
<pre><code>root@Hellhound:~# insmod mmc
Using /lib/modules/2.4.30/mmc.o
To check if the mod is working execute the following command
root@Hellhound:~# dmesg
mmc Hardware init
mmc Card init
mmc Card init *1*
mmc Card init *2*
Size = 14400, hardsectsize = 512, sectors = 28800
Partition check:
mmca:
</code></pre>
<p>The orange LED on the router should light up. If you get an error, make sure you have a GPIO2 driver installed, otherwise recheck your soldering.</p>
<p>Now we are ready to mount the MMC/SD card. Execute the following command at the prompt.</p>
<pre><code>root@Hellhound:~# mkdir /tmp/mmc
root@Hellhound:~# mount -tvfat /dev/mmc/disc0/part1 /tmp/mmc
</code></pre>
<p>This will mount your MMC/SD card to the mount point /tmp/mmc. To check if the mount was successful, execute the following.</p>
<pre><code>root@Hellhound:~# df
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/root                 1024      1024         0 100% /rom
none                     7152        32      7120   0% /tmp
/dev/mtdblock/4           2240      2104       136  94% /jffs
/jffs                     1024      1024         0 100% /
/dev/mmc/disc0/part1    241657      1562    227618   1% /tmp/mmc
</code></pre>
<p>Now you need to mask the GPIO pins. Remember, the command below is for a GPIO2 mod. It works for version 0.9test.</p>
<pre><code>root@Hellhound:~# echo &quot;0x9c&quot; &gt; /proc/diag/gpiomask
root@Hellhound:~# cat /proc/diag/gpiomask
0x009c
root@Hellhound:~#
</code></pre>
<p>The following command should work with older versions of OpenWrt.</p>
<pre><code>root@Hellhound:~# echo 9c &gt; /proc/diag/gpiomask
root@Hellhound:~# cat /proc/diag/gpiomask
156
root@Hellhound:~#
</code></pre>
<p>This will make the mod stable. In the beginning I didn&rsquo;t do a mask of the GPIO pins and that caused my mod to be unstable, and the router would lock up. Now we can test if the router is stable by executing the following command and checking the syslog afterwards (dmesg).</p>
<pre><code>root@Hellhound:~# cd /tmp/mmc
root@Hellhound:~# wget http://www2.zonnet.nl/10mb.bin
Connecting to www2.zonnet.nl[62.58.50.219]:80
10mb.bin        24% |******                  |  2522 KB     00:09 ETA
To dismount/unload the modules
root@Hellhound:~# umount /tmp/mmc
root@Hellhound:~# rmmod mmc
root@Hellhound:~# rmmod vfat
root@Hellhound:~# rmmod fat
</code></pre>
<h3 id="making-the-setup-persistent">Making the setup persistent</h3>
<p>After we have made sure the whole mod is working. We can attempt to make the mounting of the MMC/SD card survive a reboot of the router. I decided to have a mount point in the root called /opt. So, I execute the following command.</p>
<pre><code>root@Hellhound:~# mkdir /opt
</code></pre>
<p>Because we want to install packages on the MMC/SD card, we need to have support for symlinks. This is something vfat does not support. So we need to format the card in EXT2. To do this, we have to install the package e2fsprogs 1.38-1. After installing this package, we can start formatting the card. Make sure it is dismounted.</p>
<pre><code>root@Hellhound:~# mkfs.ext2 /dev/mmc/disc0/part1
</code></pre>
<p>When the card is formatted, we create a file /etc/fstab with the following code</p>
<pre><code>/dev/mmc/disc0/part1 /opt ext2 defaults 0 0
</code></pre>
<p>Now instal the package kmod-ext2 2.4.30-brcm-5 to give the kernel EXT2 support. (If you like, you can uninstall the vfat package). To test if the card is mountable , try the following:</p>
<pre><code>root@Hellhound:~# insmod ext2
root@Hellhound:~# mount /opt
</code></pre>
<p>To check if the card is writeable, you can check it by coping a file to it or so. Now create the file S20mmc in the directory /etc/init.d with the following code:</p>
<pre><code>#!/bin/sh
echo &quot;0x9c&quot; &gt; /proc/diag/gpiomask
insmod mmc
e2fsck /dev/mmc/disc0/part1
mount /opt
</code></pre>
<p>Make the file executable with the following command</p>
<pre><code>root@Hellhound:~# chmod 755 S20mmc
</code></pre>
<p>Now all you need to do is to reboot your router, and you are ready to go. You don&rsquo;t need to worry about the insmod EXT2 because in the directory /etc/modules.d there is a script called 30-ext2 that will load the module at boottime.</p>
<p>Flashing power LED</p>
<p>*note: I have not tested this yet. But this mod will cause the power LED to blink when the module is loaded. To fix this comment, the last line in the file /etc/init.d/S99done.</p>
<p>Installing packages on the MMC/SD card</p>
<p>To install the packages on your MMC/SD card, you need to change some environment setting in OpenWrt. There is a nice wiki document about this that can be found <a href="http://wiki.openwrt.org/PackagesOnExternalMediaHowTo">here</a>.</p>
<p>What is missing from this wiki document is information about running packages with symlinks. I found out that many packages would not run even when you followed the wiki document mentioned early. The script mentioned in paragraph 4.3 of <a href="http://wiki.openwrt.org/UsbStorageHowto">this document</a> gives you the solution you need to run the programs installed on the external storage. This script will add (and remove) symlinks to the programs on the MMC/SD card from the root. You can either add/remove symlinks per program, or add/remove symlinks for the whole MMC/SD card.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/11/duikhorloge.html">Duikhorloge</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/11/duikhorloge.html" class="u-url"><time class="dt-published" datetime="2023-02-11 01:19:22 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <p>De slagen van de klok in de kerktoren gaven aan dat ik opnieuw te laat voor het avondeten zou zijn. Klokkijken was nog niet een van mijn basisbekwaamheden in die tijd. Ik had van mijn ouders wel een mooi duikhorloge gekregen. Daar zat zo‚Äôn handige ring op die moeders op vijf uur draaide, zodat ik kon zien wanneer ik moest gaan rennen. Maar ja, als je aan het voetballen bent in de tuin achter het gemeentehuis en je bent aan het winnen, dan helpt zo‚Äôn duikhorloge ook niet om vijf uur.</p>
<p>Ik rende onder de kerktoren door, langs de gracht, zo door de poort naar huis. Ik wist dat moeders niet met open armen klaar zou staan. Dit was al de zoveelste keer namelijk. En op tijd thuis voor het eten was een norm die gehaald moest worden bij ons thuis. Mijn vader was diabeet en in die dagen was discipline en aardappelen wegen het enige voor hem waarmee hij controle hield. En die discipline werd ook van mij verwacht, van een jonge voetballer met duikhorloge.</p>
<p>Het eten smaakte goed, al was moeders wel op oorlogspad met me. Er werd niet veel gezegd aan tafel. Ik wist ook al welke penalty ik tegen zou gaan krijgen. In de tijd tussen het bidden na het eten en de enkele reis slaapkamer, kreeg ik nog even een opfrisser van het duikhorloge. Geslagen werd er nooit, maar een eenzame opsluiting was er geregeld voor me.</p>
<p>Want voetballen doe je namelijk met genopte schoenen en niet met een deel van een duikuitrusting. Vader werd nooit kwaad, hij was ook een voetballer. Hij snapte me wel. Hij zou me waarschijnlijk ook eerder een wedstrijdklok gegeven hebben dan een duikhorloge.</p>
<p>Het slaapkamerraam gaf een prima uitzicht op de buurt en ik droomde alweer het volgende duel in de tuin achter het gemeentehuis.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://micro.mjanssen.nl/2023/02/10/fediverse-and-wordpress.html">Fediverse and WordPress</a></h1>
		

		<a href="https://micro.mjanssen.nl/2023/02/10/fediverse-and-wordpress.html" class="u-url"><time class="dt-published" datetime="2023-02-11 00:50:52 &#43;0200">Feb 11, 2023</time></a>

		<div class="e-content">
			 <h3 id="what-is-it">What is it?</h3>
<p>ActivityPub is the glue or the oil, if you like, for the Fediverse. It glues all the services together in the Fediverse. It lets mastodon servers communicate with each other, but it also lets Pixelfed talk with mastodon and vice versa. All the social media that is ActivityPub aware can exchange messages with each other.</p>
<h3 id="wordpress">WordPress</h3>
<p>WordPress is by its nature not ActivityPub aware. So, it can‚Äôt exchange messages with the Fediverse. But there is a solution. <a href="https://github.com/pfefferle" title="Matthias Pfefferle">Matthias Pfefferle</a> created a <a href="https://github.com/pfefferle/wordpress-activitypub" title="Wordpress ActivityPub">WordPress plugin</a> to connect WordPress to the Fediverse. This enables you to get your WordPress posts across the Fediverse.</p>
<h3 id="what-do-you-need">What do you need</h3>
<ol>
<li><a href="https://wordpress.org/plugins/webfinger/" title="Webfinger WordPress Plugin">Webfinger WordPress Plugin</a> installed on your WordPress instance;</li>
<li><a href="https://wordpress.org/plugins/activitypub/" title="ActivityPub WordPress Plugin">ActivityPub WordPress Plugin</a> installed on your WordPress instance.</li>
</ol>
<h3 id="setup">Setup</h3>
<p>There is not much needed to get this working. Installed both plugins. The ActivityPub plugin has default settings that could work for you, but fiddle with them if you like. The Webfinger plugin doesn‚Äôt need configuration at all. When both plugins are installed, you will see it advises you for 2 more plugins. They are not needed to get ActivityPub working. But will enhance the experience.</p>
<h3 id="checking-the-setup">Checking the setup</h3>
<ol>
<li>First check the Site Health under Tools &gt; Site Health. If all is working correctly, you will get no critical errors on this page.</li>
<li>Go to the <a href="https://webfinger.net" title="Webfinger Website">Webfinger website</a> and check if you get a JSON response from your ActivityPub plugin by entering the e-mail address at the top. <strong>HINT: This is not your regular e-mail address, but the account name and domain name of your WordPress instance.</strong> So, if you have an account ‚ÄúJake‚Äù on your WordPress instance at the domain ‚Äúgreat.blog.com‚Äù, your ‚Äúe-mail address‚Äù will be <a href="mailto:jake@great.blog.com">jake@great.blog.com</a>. You can enter it at the top of the page. As a result, you should get a JSON response.</li>
<li>Go to your Mastodon account and search for your WordPress account (i.e., <a href="mailto:jake@great.blog.com">jake@great.blog.com</a>) in the search bar of Mastodon.</li>
</ol>
<h3 id="dos-and-donts-and-hints">Dos and Don&rsquo;ts and Hints</h3>
<ol>
<li><em><strong>Don‚Äôt install</strong></em> a cache enhancing plugin. It will mess with the ActivityPub or Webfinger Plugin. You will see critical errors after a while in your Site Health menu.</li>
<li>I found that [<a href="https://mastodon.social">mastodon.social</a>¬†](<a href="https://mastodon.social">mastodon.social</a> &ldquo;mastodon.social&rdquo;)messes with the avatar. It will not come through, even after a few posts on WordPress. I checked a few other mastodon instances (also mastodon.online, which is the other flagship server) they were fine. So, you should be careful with the mastodon server you choose to test this. It could make you think the plugin isn‚Äôt working properly.</li>
<li>Some hosting providers protect the <strong>.well-known</strong> directory. When this directory is inaccessible for the plugin. It will not work. (This made me host my WordPress instance at home).</li>
</ol>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/10/nice-esta-approved.html" class="u-url"><time class="dt-published" datetime="2023-02-10 14:26:29 &#43;0200">Feb 10, 2023</time></a>

		<div class="e-content">
			 <p>Nice, ESTA approved&hellip;.  ‚úà</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/08/tonight-we-saw.html" class="u-url"><time class="dt-published" datetime="2023-02-09 00:33:19 &#43;0200">Feb 9, 2023</time></a>

		<div class="e-content">
			 <p>Tonight we saw The Dire Straits. Mark Knopfler changed a little bit and had developed an Italian accent. But the rest just like the real band.</p>
<p>They call themselves Brothers in Band. üé∂üéµ</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/07/also-a-nice.html" class="u-url"><time class="dt-published" datetime="2023-02-07 21:19:01 &#43;0200">Feb 7, 2023</time></a>

		<div class="e-content">
			 <p>Also a nice track by Metric üé∂</p>
<blockquote>
<p>Now or Never Now <a href="https://songwhip.com/metric/now-or-never-now">songwhip.com/metric/no&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/07/have-a-listen.html" class="u-url"><time class="dt-published" datetime="2023-02-07 21:15:23 &#43;0200">Feb 7, 2023</time></a>

		<div class="e-content">
			 <p>Have a listen üé∂</p>
<blockquote>
<p>All Comes Crashing <a href="https://songwhip.com/metric/all-comes-crashing">songwhip.com/metric/al&hellip;</a></p>
</blockquote>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/07/the-setlist-metric.html" class="u-url"><time class="dt-published" datetime="2023-02-07 14:25:37 &#43;0200">Feb 7, 2023</time></a>

		<div class="e-content">
			 <p>The setlist Metric - Doomscroller Tour 2023</p>
<p>Metric Ronda Tivoli Utrecht 06-02-2023</p>
<p><a href="https://open.spotify.com/playlist/6WZ5EtufyFDjUgW9LhdF4H?si=c3db0bbf719a4ff3">open.spotify.com/playlist/&hellip;</a></p>
<p>üé∂</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/06/what-a-great.html" class="u-url"><time class="dt-published" datetime="2023-02-06 23:59:15 &#43;0200">Feb 6, 2023</time></a>

		<div class="e-content">
			 <p>What a great gig #Metric #Utrecht #tivoli.</p>
<p>Emily Haines as energetic as always. Like a deer running around the stage.
üé∂</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/06/173737.html" class="u-url"><time class="dt-published" datetime="2023-02-06 18:37:37 &#43;0200">Feb 6, 2023</time></a>

		<div class="e-content">
			 <p>On my way to Tivoli Utrecht for a performance of Metric.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/06/on-my-way.html" class="u-url"><time class="dt-published" datetime="2023-02-06 18:35:29 &#43;0200">Feb 6, 2023</time></a>

		<div class="e-content">
			 <p>On my way to Tivoli Utrecht for a performance from Mertic. üé∂</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/05/ice-hockey-was.html" class="u-url"><time class="dt-published" datetime="2023-02-05 23:35:07 &#43;0200">Feb 5, 2023</time></a>

		<div class="e-content">
			 <p>Ice hockey was nice this afternoon in D√ºsseldorf. D√ºsseldorf won from N√ºrnberg 6 ‚Äì 2. Nice beer üç∫ and great play on the ice. üì∑</p>
<p>We had great places right behind the players. üèí</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/5a5df8ab1b.jpg" alt="üì∑"> <img src="https://micro.mjanssen.nl/uploads/2023/a30e523efc.jpg" alt=""></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/05/just-a-nice.html" class="u-url"><time class="dt-published" datetime="2023-02-05 14:01:41 &#43;0200">Feb 5, 2023</time></a>

		<div class="e-content">
			 <p>Just a nice Sunday coffee ‚òï with Snickers White-shoesüê±</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/8495dd5350.jpg" alt=""></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/05/any-fans-of.html" class="u-url"><time class="dt-published" datetime="2023-02-05 13:08:16 &#43;0200">Feb 5, 2023</time></a>

		<div class="e-content">
			 <p>Any fans of the app Ulysses here?? üìù</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/05/getting-ready-for.html" class="u-url"><time class="dt-published" datetime="2023-02-05 09:27:47 &#43;0200">Feb 5, 2023</time></a>

		<div class="e-content">
			 <p>Getting ready for Ice hockey this afternoon in D√ºsseldorf, Germany. D√ºsseldorf plays against N√ºrnberg.</p>
<p>Just a nice afternoon with the guys, some German beerüç∫ and currywurst. üèí</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/402bffbc96.png" alt=""></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/05/elvis-the-pelvis.html" class="u-url"><time class="dt-published" datetime="2023-02-05 01:11:43 &#43;0200">Feb 5, 2023</time></a>

		<div class="e-content">
			 <p>Elvis the Pelvis üçø</p>
<p>I guess the most dramatic version of Elvis ever recorded.</p>
<p><strong>Edit: but didn‚Äôt know he had such a miserable life in his last years</strong></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/04/not-belgian-but.html" class="u-url"><time class="dt-published" datetime="2023-02-04 19:25:13 &#43;0200">Feb 4, 2023</time></a>

		<div class="e-content">
			 <p>Not Belgian but good enough. üç∫</p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/04/the-difference-jon.html" class="u-url"><time class="dt-published" datetime="2023-02-04 13:57:50 &#43;0200">Feb 4, 2023</time></a>

		<div class="e-content">
			 <p>The Difference - Jon Hopkins Remixüé∂</p>
<p>Jon Hopkins</p>
<p><a href="https://songwhip.com/flume/the-difference-jon-hopkins-remix">songwhip.com/flume/the&hellip;</a></p>
<!-- raw HTML omitted -->

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/04/will-be-attending.html" class="u-url"><time class="dt-published" datetime="2023-02-04 09:55:31 &#43;0200">Feb 4, 2023</time></a>

		<div class="e-content">
			 <p>Will be attending #Metric in Utrecht Tivoli this Monday. üé∂</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/03/did-some-nice.html" class="u-url"><time class="dt-published" datetime="2023-02-03 20:45:31 &#43;0200">Feb 3, 2023</time></a>

		<div class="e-content">
			 <p>Did some nice eel smoking. üßë‚Äçüç≥</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/f4817be61c.jpg" alt="Eel smoking "></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://micro.mjanssen.nl/2023/02/03/red-bull-f.html" class="u-url"><time class="dt-published" datetime="2023-02-03 20:15:12 &#43;0200">Feb 3, 2023</time></a>

		<div class="e-content">
			 <p>Redbull car presentation today‚Ä¶. a shame the actual car isn‚Äôt shown yet! üèéÔ∏è</p>
<p><img src="https://micro.mjanssen.nl/uploads/2023/ea3629468d.jpg" alt="" title="Red Bull F1 2023 Livery"></p>

		</div>
	  </div>
	

</div>


    
    

  </body>

</html>
